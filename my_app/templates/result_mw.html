<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>結果確認（男性のみor女性のみ）</title>
</head>
<body style="background-color: skyblue;">

  <h1>Men or Women Recogs</h1>
  <table>
      <tr>
        <th>真似した役柄</th>
        <th>話者認識結果</th>
        <th>ID</th>
        <th>ユーザー</th>
      </tr>
    {% for recog in recogs %}
      {% if recog.role == recog.result %}
        <tr class="role" style="color: yellow;">
          <td>{{recog.role}}</td><td>{{recog.result}}</td><td>{{recog.id}}</td><td>{{recog.name}}</td>
          <td><audio controls><source src="data:audio/wav;base64,{{decoded[loop.index0]}}" type="audio/wav"></audio></td>
        </tr>
      {% else %}
        <tr class="role">
          <td>{{recog.role}}</td><td>{{recog.result}}</td><td>{{recog.id}}</td><td>{{recog.name}}</td>
          <td><audio controls><source src="data:audio/wav;base64,{{decoded[loop.index0]}}" type="audio/wav"></audio></td>
          <!-- base64のb''がいらない、正規表現とかで消す？
           https://note.com/studynote/n/n7b85c7be16a6 -->
        </tr>
      {% endif %}
    {% endfor %}
  </table>
  <p>※一番上が一番目の役柄、一番下が最後にやった役柄</p>
  <p>
    ５人と出会い、妖精さんは{{unique_cnt}}人の姿になれるようになりました。
    この森で妖精さんはこれからも様々な人に出会うでしょう。
    次はどんな人が来るのでしょうか。
  </p>

  <form action="{{url_for('index')}}" method="get">
    <button type="submit">戻る</button>
  </form>
  
<script type="text/javascript" src="{{url_for('static', filename='js/index.js')}}"></script>
<script>
  // let arr = ['男の子or女の子', '少年or少女', '青年男or青年女', 'おじさんorおばさん', 'おじいさんorおばあさん'];
  // let role = document.getElementsByClassName('role');
  // // role[3].insertAdjacentHTML('afterbegin', `<span>${arr[0]}：</span>`)
  // for(let i = 0; i < 5; i++){
  //   role[i].insertAdjacentHTML('afterbegin', `<td>${arr[i]}：</td>`)
  // }
</script>  
</body>
</html>